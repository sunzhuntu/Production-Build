{"ast":null,"code":"var _jsxFileName = \"/Users/zhusun/Others/MQ-Teaching/Teaching/COMP3120-2020-S2/Code/Week4/src/App.js\",\n    _s = $RefreshSig$();\n\n//import logo from './logo.svg';\nimport './App.css';\nimport { useEffect, useState } from 'react';\nimport Product from './Product';\nimport ProductForm from './ProductForm';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst App = () => {\n  _s();\n\n  const [products, setProducts] = useState([]);\n  const [showAll, setShowAll] = useState(true);\n  useEffect(() => {\n    console.log('effect');\n    axios.get('http://localhost:3001/products').then(response => {\n      console.log('promise fulfilled');\n      setProducts(response.data);\n    });\n  }, []);\n  console.log('render', products.length, 'pieces of products');\n  const productToShow = showAll ? products : products.filter(product => product.category === 'Electronic');\n\n  const addProduct = productObject => {\n    axios.post('http://localhost:3001/products', productObject).then(response => {\n      console.log('the returned response for the post request', response);\n      setProducts(products.concat(response.data));\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \" My Favorite Products\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setShowAll(!showAll),\n        children: [\"Show \", showAll ? 'Electronics' : 'All']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: productToShow.map((product, index) => /*#__PURE__*/_jsxDEV(Product, {\n        product: product\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ProductForm, {\n      addProduct: addProduct\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }, this);\n};\n\n_s(App, \"whYtA0/LkJCtV/BBmjIbTmJVNtI=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/zhusun/Others/MQ-Teaching/Teaching/COMP3120-2020-S2/Code/Week4/src/App.js"],"names":["useEffect","useState","Product","ProductForm","axios","App","products","setProducts","showAll","setShowAll","console","log","get","then","response","data","length","productToShow","filter","product","category","addProduct","productObject","post","concat","map","index"],"mappings":";;;AAAA;AACA,OAAO,WAAP;AACA,SAASA,SAAT,EAAoBC,QAApB,QAAmC,OAAnC;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;AAEA,MAAMC,GAAG,GAAG,MAAM;AAAA;;AAChB,QAAK,CAACC,QAAD,EAAWC,WAAX,IAA0BN,QAAQ,CAAC,EAAD,CAAvC;AACA,QAAK,CAACO,OAAD,EAAUC,UAAV,IAAwBR,QAAQ,CAAC,IAAD,CAArC;AAEAD,EAAAA,SAAS,CAAC,MAAK;AACbU,IAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACAP,IAAAA,KAAK,CAACQ,GAAN,CAAU,gCAAV,EACCC,IADD,CACMC,QAAQ,IAAI;AAChBJ,MAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ;AACAJ,MAAAA,WAAW,CAACO,QAAQ,CAACC,IAAV,CAAX;AACD,KAJD;AAKD,GAPQ,EAON,EAPM,CAAT;AASAL,EAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBL,QAAQ,CAACU,MAA/B,EAAuC,oBAAvC;AAEA,QAAMC,aAAa,GAAGT,OAAO,GAC3BF,QAD2B,GAE3BA,QAAQ,CAACY,MAAT,CAAgBC,OAAO,IAAIA,OAAO,CAACC,QAAR,KAAqB,YAAhD,CAFF;;AAIA,QAAMC,UAAU,GAAIC,aAAD,IAAmB;AACpClB,IAAAA,KAAK,CAACmB,IAAN,CAAW,gCAAX,EAA6CD,aAA7C,EACCT,IADD,CACMC,QAAQ,IAAI;AAChBJ,MAAAA,OAAO,CAACC,GAAR,CAAY,4CAAZ,EAA0DG,QAA1D;AACAP,MAAAA,WAAW,CAACD,QAAQ,CAACkB,MAAT,CAAgBV,QAAQ,CAACC,IAAzB,CAAD,CAAX;AACD,KAJD;AAKD,GAND;;AAQA,sBACE;AAAA,4BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eAEE;AAAA,6BACE;AAAQ,QAAA,OAAO,EAAE,MAAMN,UAAU,CAAC,CAACD,OAAF,CAAjC;AAAA,4BACQA,OAAO,GAAE,aAAF,GAAkB,KADjC;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YAFF,eAOE;AAAA,gBACGS,aAAa,CAACQ,GAAd,CAAkB,CAACN,OAAD,EAAUO,KAAV,kBACjB,QAAC,OAAD;AAAqB,QAAA,OAAO,EAAEP;AAA9B,SAAcO,KAAd;AAAA;AAAA;AAAA;AAAA,cADD;AADH;AAAA;AAAA;AAAA;AAAA,YAPF,eAYE,QAAC,WAAD;AAAa,MAAA,UAAU,EAAEL;AAAzB;AAAA;AAAA;AAAA;AAAA,YAZF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAgBD,CA3CD;;GAAMhB,G;;KAAAA,G;AA6CN,eAAeA,GAAf","sourcesContent":["//import logo from './logo.svg';\nimport './App.css';\nimport { useEffect, useState} from 'react';\nimport Product from './Product';\nimport ProductForm from './ProductForm';\nimport axios from 'axios';\n\nconst App = () => {\n  const[products, setProducts] = useState([])\n  const[showAll, setShowAll] = useState(true)\n\n  useEffect(()=> {\n    console.log('effect')\n    axios.get('http://localhost:3001/products')\n    .then(response => {\n      console.log('promise fulfilled')\n      setProducts(response.data)\n    })\n  }, [])\n\n  console.log('render', products.length, 'pieces of products')\n\n  const productToShow = showAll\n  ? products\n  : products.filter(product => product.category === 'Electronic')\n\n  const addProduct = (productObject) => {\n    axios.post('http://localhost:3001/products', productObject)\n    .then(response => {\n      console.log('the returned response for the post request', response)\n      setProducts(products.concat(response.data)) \n    })\n  }\n\n  return(\n    <div>\n      <h3> My Favorite Products</h3>\n      <div>\n        <button onClick={() => setShowAll(!showAll)}> \n          Show {showAll? 'Electronics' : 'All'}\n        </button>\n      </div>\n      <ul>\n        {productToShow.map((product, index) => \n          <Product key={index} product={product} />\n        )}\n      </ul>\n      <ProductForm addProduct={addProduct}/>\n    </div>\n  )\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}